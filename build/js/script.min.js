const map=L.map("map").setView({lat:59.938635,lng:30.323118},16);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors | Icons made by <a href="https://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a>'}).addTo(map),window.addEventListener("resize",(function(e){document.documentElement.clientWidth<1220?map.setView({lat:59.938635,lng:30.323118},16):map.setView({lat:59.938635,lng:30.315118},15.5)}));const points=[{title:"Кэт Энерджи",lat:59.938635,lng:30.323118}],createCustomPopup=e=>{const t=document.querySelector("#balloon").content.querySelector(".balloon").cloneNode(!0);return t.querySelector(".balloon__title").textContent=e.title,t};points.forEach((e=>{const{lat:t,lng:i}=e,o=L.icon({iconUrl:"../img/pin.png",iconSize:[113,106],iconAnchor:[57,100]});L.marker({lat:t,lng:i},{icon:o}).addTo(map).bindPopup(createCustomPopup(e),{keepInView:!0})}));const navToggle=document.querySelector(".main-navigation__toggle"),navigation=document.querySelector(".main-navigation");navigation.classList.remove("main-navigation--no-js"),navigation.classList.remove("main-navigation--opened"),navigation.classList.add("main-navigation--closed"),navToggle.addEventListener("click",(()=>{navigation.classList.toggle("main-navigation--closed"),navigation.classList.toggle("main-navigation--opened")})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".slider");if(e){const o=e.querySelector(".slider__button--before"),a=e.querySelector(".slider__button--after"),n=e.querySelector(".slider__toggle"),s=e.querySelector(".slider__image-wrapper"),l=e.querySelector(".slider__range"),r=document.querySelector(".results");function t(){s.style.width="100%",n.classList.add("slider__toggle--before"),l.value="0",a.onclick=e=>{e.preventDefault(),n.classList.remove("slider__toggle--before"),n.classList.add("slider__toggle--after"),s.style.width="0%"},o.onclick=e=>{e.preventDefault(),n.classList.remove("slider__toggle--after"),n.classList.add("slider__toggle--before"),s.style.width="100%"}}function i(){s.style.width="50%",n.classList.remove("slider__toggle--before"),n.classList.remove("slider__toggle--after"),l.value="50";const t=e.offsetWidth,i=l.offsetWidth-34;l.oninput=()=>{let e=(t-i)/2+i*l.value/100;s.style.width=`${e}px`,r.classList.remove("results--before"),r.classList.remove("results--after")},o.onclick=e=>{e.preventDefault(),l.value="0",s.style.width="100%",r.classList.add("results--before"),r.classList.remove("results--after")},a.onclick=e=>{e.preventDefault(),l.value="100",s.style.width="0%",r.classList.remove("results--before"),r.classList.add("results--after")}}window.matchMedia("(max-width: 767px)").matches&&t(),window.matchMedia("(min-width: 768px)").matches&&i(),window.addEventListener("resize",(()=>{window.matchMedia("(max-width: 767px)").matches&&t(),window.matchMedia("(min-width: 768px)").matches&&i()}))}}));